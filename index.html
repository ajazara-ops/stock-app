<!DOCTYPE html>
<html lang="ko" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="DailyPick10 - AI가 매일 찾아주는 상승 예상 종목. 미국/한국 주식 스윙 투자 필수 앱.">
    <meta property="og:title" content="DailyPick10 - AI 주식 추천">
    <meta property="og:description" content="매일 아침/저녁, AI가 분석한 Top 10 종목을 받아보세요.">
    <meta property="og:image" content="./assets/images/icon.png">
    <meta property="og:url" content="https://ajazara-ops.github.io/dailypick10/">
    <title>DailyPick10 - AI 스마트 스윙 투자</title>
    
    <script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/prop-types/prop-types.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/recharts/2.1.12/Recharts.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

    <style>
        body { background-color: #0f172a; color: #f8fafc; font-family: 'Inter', sans-serif; scroll-behavior: smooth; }
        .gradient-text { background: linear-gradient(to right, #60a5fa, #a78bfa); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .glass-panel { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .download-btn { background: linear-gradient(135deg, #2563eb, #4f46e5); transition: transform 0.2s, box-shadow 0.2s; }
        .download-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 25px -5px rgba(79, 70, 229, 0.4); }
        
        /* Modal Animation */
        .modal-enter { opacity: 0; transform: scale(0.9); }
        .modal-enter-active { opacity: 1; transform: scale(1); transition: opacity 300ms, transform 300ms; }
        .modal-exit { opacity: 1; transform: scale(1); }
        .modal-exit-active { opacity: 0; transform: scale(0.9); transition: opacity 300ms, transform 300ms; }
        
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1); }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2); border-radius: 3px; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        // Recharts 컴포넌트 추가 (BarChart, Bar 등)
        const { BarChart, Bar, XAxis, YAxis, Tooltip, ResponsiveContainer, Cell } = Recharts;

        // --- 약관 내용 ---
        const TERMS_CONTENT = `제1조 (목적)\n본 약관은 DailyPick10(이하 "회사")이 제공하는 주식 정보 서비스(이하 "서비스")의 이용조건 및 절차, 이용자와 회사의 권리, 의무, 책임사항을 규정함을 목적으로 합니다.\n\n(중략)\n\n제6조 (준거법 및 관할)\n본 약관은 대한민국 법률에 따라 규율되며, 서비스와 관련하여 발생한 분쟁은 회사의 본점 소재지를 관할하는 법원을 전속 관할로 합니다.`;
        const PRIVACY_CONTENT = `1. 개인정보의 수집 및 이용 목적\n회사는 회원가입, 원활한 고객상담, 서비스 제공을 위해 최소한의 개인정보를 수집하고 있습니다.\n\n(중략)\n\n6. 개인정보 보호책임자 및 문의\n이메일: dailypick10.help@gmail.com`;

        // 아이콘 (Heroicons)
        const Icon = ({ name, size = 24, className }) => {
            const icons = {
                chart: <path strokeLinecap="round" strokeLinejoin="round" d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z" />,
                bolt: <path strokeLinecap="round" strokeLinejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z" />,
                check: <path strokeLinecap="round" strokeLinejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />,
                download: <path strokeLinecap="round" strokeLinejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" />,
                menu: <path strokeLinecap="round" strokeLinejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />,
                swing: <path strokeLinecap="round" strokeLinejoin="round" d="M2 15c3.33-6 6.67-6 10 0s6.67 6 10 0M17 5l5 0 0 5" />,
                x: <path strokeLinecap="round" strokeLinejoin="round" d="M6 18L18 6M6 6l12 12" />
            };
            return (
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" width={size} height={size} className={className}>
                    {icons[name]}
                </svg>
            );
        };

        const Navbar = () => (
            <nav className="w-full flex items-center justify-between px-6 py-4 max-w-6xl mx-auto absolute top-0 left-0 right-0 z-50">
                <div className="flex items-center gap-3">
                     <img 
                        src="./assets/images/icon.png" 
                        alt="Logo" 
                        className="w-10 h-10 rounded-xl shadow-lg border border-white/10"
                        onError={(e) => {e.target.style.display='none'; e.target.nextSibling.style.display='flex';}}
                     />
                     <div className="w-10 h-10 bg-indigo-600 rounded-xl hidden items-center justify-center shadow-lg border border-white/10">
                        <Icon name="swing" size={24} className="text-white" />
                     </div>
                     <span className="text-xl font-extrabold text-white tracking-tight">DailyPick10</span>
                </div>
                <div className="hidden md:flex gap-8 text-sm font-medium text-gray-300">
                    <a href="#features" className="hover:text-white transition-colors">주요 기능</a>
                    <a href="#preview" className="hover:text-white transition-colors">오늘의 추천</a>
                    <a href="#performance" className="hover:text-white transition-colors">성과 리포트</a>
                    <a href="#faq" className="hover:text-white transition-colors">FAQ</a>
                </div>
            </nav>
        );

        const TermsModal = ({ visible, title, content, onClose }) => {
            if (!visible) return null;
            return (
                <div className="fixed inset-0 z-[100] flex items-center justify-center px-4 animate-in">
                    <div className="absolute inset-0 bg-black/80 backdrop-blur-sm" onClick={onClose}></div>
                    <div className="relative bg-gray-900 rounded-2xl w-full max-w-2xl border border-gray-700 shadow-2xl flex flex-col max-h-[80vh]">
                        <div className="flex items-center justify-between p-6 border-b border-gray-800">
                            <h3 className="text-xl font-bold text-white">{title}</h3>
                            <button onClick={onClose} className="p-2 hover:bg-gray-800 rounded-full transition-colors"><Icon name="x" size={20} className="text-gray-400" /></button>
                        </div>
                        <div className="p-6 overflow-y-auto custom-scrollbar">
                            <pre className="whitespace-pre-wrap font-sans text-sm text-gray-300 leading-relaxed">{content}</pre>
                        </div>
                        <div className="p-4 border-t border-gray-800 flex justify-end">
                            <button onClick={onClose} className="px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors">닫기</button>
                        </div>
                    </div>
                </div>
            );
        };

        // [New] 성과 리포트 미리보기 컴포넌트
        const PerformancePreview = () => {
            // 예시 데이터 (실제 데이터처럼 보이게 구성)
            const data = [
                { name: 'NVDA', return: 15.4 },
                { name: 'IONQ', return: 12.8 },
                { name: 'PLTR', return: 10.2 },
                { name: 'TSLA', return: 8.5 },
                { name: 'AAPL', return: 6.1 },
            ];

            return (
                <section id="performance" className="w-full max-w-4xl px-4 mb-24 mx-auto">
                    <div className="text-center mb-10">
                        <h2 className="text-3xl font-bold text-white mb-4">투명한 성과 공개</h2>
                        <p className="text-gray-400">매주 토요일, AI가 추천한 종목들의 실제 수익률 리포트를 제공합니다.</p>
                    </div>
                    
                    <div className="glass-panel rounded-3xl p-1 shadow-2xl bg-gray-800/30">
                         <div className="bg-gray-900/80 rounded-2xl p-6 border border-gray-800">
                            <div className="flex justify-between items-center mb-6">
                                <div>
                                     <h3 className="font-bold text-gray-100 flex items-center gap-2 text-lg">
                                        <span className="bg-blue-500/20 text-blue-400 p-1 rounded-lg"><Icon name="chart" size={18} /></span> 
                                        주간 수익률 Top 5 (예시)
                                    </h3>
                                </div>
                                <span className="text-xs font-bold text-green-400 bg-green-900/30 px-2 py-1 rounded border border-green-800">평균 +10.6%</span>
                            </div>

                            <div className="h-64 w-full">
                                <ResponsiveContainer width="100%" height="100%">
                                    <BarChart data={data} layout="vertical" margin={{ top: 5, right: 30, left: 40, bottom: 5 }}>
                                        <XAxis type="number" hide />
                                        <YAxis type="category" dataKey="name" stroke="#9ca3af" tick={{fontSize: 12}} width={40} />
                                        <Tooltip 
                                            contentStyle={{ backgroundColor: '#1f2937', borderColor: '#374151', color: '#f3f4f6', borderRadius: '8px' }}
                                            itemStyle={{ color: '#60a5fa' }}
                                            cursor={{fill: 'rgba(255, 255, 255, 0.05)'}}
                                            formatter={(value) => [`+${value}%`, '수익률']}
                                        />
                                        <Bar dataKey="return" radius={[0, 4, 4, 0]} barSize={20}>
                                            {data.map((entry, index) => (
                                                <Cell key={`cell-${index}`} fill={index < 3 ? '#ef4444' : '#3b82f6'} />
                                            ))}
                                        </Bar>
                                    </BarChart>
                                </ResponsiveContainer>
                            </div>
                            <p className="text-center text-xs text-gray-500 mt-4">* 앱에서 지난 2주간의 상세 백테스팅 결과를 확인하실 수 있습니다.</p>
                         </div>
                    </div>
                </section>
            );
        };

        const FAQ = () => (
            <section id="faq" className="w-full py-24 px-6 border-t border-slate-800">
                <div className="max-w-3xl mx-auto">
                    <h2 className="text-3xl font-bold text-center mb-12 text-white">자주 묻는 질문</h2>
                    <div className="space-y-4">
                        <div className="bg-gray-800/40 p-6 rounded-2xl border border-gray-700 hover:bg-gray-800/60 transition-colors">
                            <h3 className="font-bold text-lg mb-2 text-indigo-300">Q. 정말 무료인가요?</h3>
                            <p className="text-gray-400 leading-relaxed">네, 앱 다운로드와 오늘의 추천 종목 확인은 모두 무료입니다.</p>
                        </div>
                        <div className="bg-gray-800/40 p-6 rounded-2xl border border-gray-700 hover:bg-gray-800/60 transition-colors">
                            <h3 className="font-bold text-lg mb-2 text-indigo-300">Q. 어떤 주식을 추천하나요?</h3>
                            <p className="text-gray-400 leading-relaxed">한국(코스피/코스닥) 및 미국(S&P500/나스닥) 우량주 중, 기술적 지표상 저점 반등 구간에 있는 종목을 선별합니다.</p>
                        </div>
                    </div>
                </div>
            </section>
        );

        const App = () => {
            const [topStocks, setTopStocks] = useState([]);
            const [modalOpen, setModalOpen] = useState(false);
            const [modalContent, setModalContent] = useState({ title: '', content: '' });

            useEffect(() => {
                fetch('todays_recommendation.json', { cache: "no-store" })
                    .then(res => res.json())
                    .then(data => {
                        const allStocks = data.stocks || [];
                        // [수정] 다시 Top 3개만 보여주도록 변경
                        const sorted = allStocks.sort((a, b) => (b.score || 0) - (a.score || 0)).slice(0, 3);
                        setTopStocks(sorted);
                    })
                    .catch(err => console.error(err));
            }, []);

            const googlePlayUrl = "https://play.google.com/store/apps/details?id=com.ajazara.dailypick10"; 

            const openTerms = (type) => {
                if (type === 'terms') {
                    setModalContent({ title: '이용약관', content: TERMS_CONTENT });
                } else {
                    setModalContent({ title: '개인정보 처리방침', content: PRIVACY_CONTENT });
                }
                setModalOpen(true);
            };

            return (
                <div className="min-h-screen flex flex-col items-center bg-gray-900">
                    <TermsModal 
                        visible={modalOpen} 
                        title={modalContent.title} 
                        content={modalContent.content} 
                        onClose={() => setModalOpen(false)} 
                    />

                    <Navbar />
                    
                    {/* Hero Section */}
                    <header className="w-full max-w-5xl px-6 pt-40 pb-20 text-center relative">
                        <div className="inline-block px-4 py-1.5 mb-6 text-xs font-bold tracking-wider text-indigo-400 uppercase bg-indigo-950/50 rounded-full border border-indigo-500/30 shadow-lg shadow-indigo-900/20">
                            ✨ AI Based Stock Picking
                        </div>
                        <h1 className="text-5xl sm:text-7xl font-extrabold mb-8 tracking-tight leading-tight text-white">
                            매일 아침, <br/>
                            <span className="gradient-text">상승 예상 종목</span>을 배달합니다
                        </h1>
                        <p className="text-gray-400 text-lg sm:text-xl mb-12 max-w-2xl mx-auto leading-relaxed">
                            복잡한 차트 분석은 AI에게 맡기세요.<br/>
                            RSI, 볼린저밴드, 거래량을 분석하여 <strong>스윙 투자</strong>에 최적화된 종목을 찾아냅니다.
                        </p>
                        
                        <div className="flex flex-col sm:flex-row gap-4 justify-center">
                            <a href={googlePlayUrl} target="_blank" className="download-btn flex items-center justify-center gap-3 px-8 py-4 rounded-xl text-white font-bold text-lg shadow-xl shadow-blue-900/30 hover:scale-105 transition-all">
                                <Icon name="download" /> Google Play에서 무료 다운로드
                            </a>
                        </div>
                    </header>

                    {/* Preview Section (Top 3 Only) */}
                    <section id="preview" className="w-full max-w-md px-4 mb-24 relative z-10">
                        <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[120%] bg-indigo-500/10 blur-[100px] -z-10 rounded-full"></div>
                        
                        <div className="glass-panel rounded-3xl p-2 shadow-2xl border border-white/10 bg-gray-800/50">
                            <div className="bg-gray-900 rounded-2xl p-5 border border-gray-800">
                                <div className="flex justify-between items-center mb-6 border-b border-gray-800 pb-4">
                                    <div>
                                        <h3 className="font-bold text-gray-100 flex items-center gap-2 text-lg">
                                            <span className="bg-yellow-500/20 text-yellow-500 p-1 rounded-lg"><Icon name="bolt" size={18} /></span> 
                                            오늘의 추천 Top 3
                                        </h3>
                                        <p className="text-xs text-gray-500 mt-1 pl-1">AI 알고리즘 분석 결과 ({new Date().toLocaleDateString()})</p>
                                    </div>
                                </div>
                                
                                {topStocks.length > 0 ? (
                                    <div className="space-y-3">
                                        {topStocks.map((stock, idx) => (
                                            <div key={idx} className="bg-gray-800 p-4 rounded-xl border border-gray-700/50 flex justify-between items-center hover:bg-gray-750 transition-colors">
                                                <div className="flex items-center gap-4">
                                                    <div className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold shadow-lg ${idx===0 ? 'bg-gradient-to-br from-yellow-400 to-yellow-600 text-black' : 'bg-gray-700 text-gray-300'}`}>
                                                        {idx + 1}
                                                    </div>
                                                    <div>
                                                        <div className="flex items-center gap-2">
                                                            <p className="font-bold text-base text-gray-100">{stock.symbol}</p>
                                                            <span className="text-[10px] bg-gray-700 px-1.5 py-0.5 rounded text-gray-400">{stock.market}</span>
                                                        </div>
                                                        <p className="text-xs text-gray-400 truncate max-w-[100px]">{stock.name}</p>
                                                    </div>
                                                </div>
                                                <div className="text-right">
                                                     <p className="text-base font-bold text-white tracking-tight">{stock.market === 'US' ? '$' : '₩'}{stock.currentPrice.toLocaleString()}</p>
                                                     <div className="flex items-center justify-end gap-1">
                                                        <span className="w-1.5 h-1.5 rounded-full bg-indigo-500 animate-pulse"></span>
                                                        <p className="text-xs text-indigo-400 font-bold">AI {stock.score}점</p>
                                                     </div>
                                                </div>
                                            </div>
                                        ))}
                                        <a href={googlePlayUrl} target="_blank" className="block text-center mt-6 py-3 bg-gray-800 hover:bg-gray-700 rounded-xl text-sm text-gray-400 hover:text-white transition-all border border-gray-700 border-dashed">
                                            + 나머지 추천 종목 앱에서 확인하기
                                        </a>
                                    </div>
                                ) : (
                                    <div className="py-12 text-center">
                                        <div className="animate-spin w-8 h-8 border-2 border-indigo-500 border-t-transparent rounded-full mx-auto mb-3"></div>
                                        <p className="text-sm text-gray-500">AI가 종목을 분석 중입니다...</p>
                                    </div>
                                )}
                            </div>
                        </div>
                    </section>
                    
                    {/* [New] 성과 리포트 예시 섹션 */}
                    <PerformancePreview />

                    <FAQ />

                    <footer className="w-full py-12 text-center text-gray-500 text-sm bg-gray-900 border-t border-gray-800">
                        <div className="flex items-center justify-center gap-2 mb-4 opacity-70">
                             <Icon name="swing" size={24} className="text-gray-500" />
                             <span className="font-bold text-gray-400">DailyPick10</span>
                        </div>
                        <p className="mb-6 text-xs">© 2024 DailyPick10. All rights reserved.</p>
                        <div className="flex justify-center gap-6 text-xs font-medium">
                            <button onClick={() => openTerms('terms')} className="hover:text-gray-300 transition-colors">이용약관</button>
                            <button onClick={() => openTerms('privacy')} className="hover:text-gray-300 transition-colors">개인정보처리방침</button>
                            <a href="mailto:dailypick10.help@gmail.com" className="hover:text-gray-300 transition-colors">문의하기</a>
                        </div>
                    </footer>
                </div>
            );
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>