<!DOCTYPE html>
<html lang="ko" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="DailyPick10 - AI가 매일 찾아주는 급등 예상 종목. 미국/한국 주식 스윙 투자 필수 앱.">
    <meta property="og:title" content="DailyPick10 - AI 주식 추천">
    <meta property="og:description" content="매일 아침/저녁, AI가 분석한 Top 10 종목을 받아보세요.">
    <meta property="og:image" content="./assets/images/icon.png">
    <title>DailyPick10 - AI 스마트 스윙 투자</title>
    
    <script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

    <style>
        body { background-color: #0f172a; color: #f8fafc; font-family: 'Inter', sans-serif; }
        .gradient-text { background: linear-gradient(to right, #60a5fa, #a78bfa); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .glass-panel { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .download-btn { background: linear-gradient(135deg, #2563eb, #4f46e5); transition: transform 0.2s, box-shadow 0.2s; }
        .download-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 25px -5px rgba(79, 70, 229, 0.4); }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // 아이콘 (Heroicons)
        const Icon = ({ name, size = 24, className }) => {
            const icons = {
                chart: <path strokeLinecap="round" strokeLinejoin="round" d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z" />,
                bolt: <path strokeLinecap="round" strokeLinejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z" />,
                check: <path strokeLinecap="round" strokeLinejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />,
                download: <path strokeLinecap="round" strokeLinejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" />
            };
            return (
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" width={size} height={size} className={className}>
                    {icons[name]}
                </svg>
            );
        };

        const App = () => {
            const [topStocks, setTopStocks] = useState([]);
            const [marketStatus, setMarketStatus] = useState(null);

            useEffect(() => {
                fetch('todays_recommendation.json', { cache: "no-store" })
                    .then(res => res.json())
                    .then(data => {
                        // 상위 3개만 추출 (미국/한국 섞어서 점수순)
                        const allStocks = data.stocks || [];
                        const sorted = allStocks.sort((a, b) => (b.score || 0) - (a.score || 0)).slice(0, 3);
                        setTopStocks(sorted);
                        setMarketStatus(data.market_status);
                    })
                    .catch(err => console.error(err));
            }, []);

            const googlePlayUrl = "https://play.google.com/store/apps/details?id=com.ajazara.dailypick10"; // 실제 주소 입력

            return (
                <div className="min-h-screen flex flex-col items-center">
                    
                    {/* Hero Section */}
                    <header className="w-full max-w-5xl px-6 py-20 text-center">
                        <div className="inline-block px-3 py-1 mb-4 text-xs font-semibold tracking-wider text-indigo-400 uppercase bg-indigo-900/30 rounded-full border border-indigo-700/50">
                            AI Based Stock Picking
                        </div>
                        <h1 className="text-5xl sm:text-6xl font-extrabold mb-6 tracking-tight leading-tight">
                            매일 아침, <br/>
                            <span className="gradient-text">급등 예상 종목</span>을 배달합니다
                        </h1>
                        <p className="text-gray-400 text-lg sm:text-xl mb-10 max-w-2xl mx-auto leading-relaxed">
                            복잡한 차트 분석은 AI에게 맡기세요.<br/>
                            RSI, 볼린저밴드, 거래량을 분석하여 <strong>스윙 투자</strong>에 최적화된 종목을 찾아냅니다.
                        </p>
                        
                        <div className="flex flex-col sm:flex-row gap-4 justify-center">
                            <a href={googlePlayUrl} target="_blank" className="download-btn flex items-center justify-center gap-3 px-8 py-4 rounded-xl text-white font-bold text-lg shadow-lg">
                                <Icon name="download" /> Google Play에서 다운로드
                            </a>
                        </div>
                    </header>

                    {/* Live Preview Section */}
                    <section className="w-full max-w-md px-4 mb-20">
                        <div className="glass-panel rounded-2xl p-1 shadow-2xl">
                            <div className="bg-gray-900/80 rounded-xl p-4">
                                <div className="flex justify-between items-center mb-4 border-b border-gray-700 pb-3">
                                    <h3 className="font-bold text-gray-200 flex items-center gap-2">
                                        <Icon name="bolt" size={20} className="text-yellow-400" /> 오늘의 Top 3 미리보기
                                    </h3>
                                    <span className="text-xs text-gray-500">{new Date().toLocaleDateString()} 기준</span>
                                </div>
                                
                                {topStocks.length > 0 ? (
                                    <div className="space-y-3">
                                        {topStocks.map((stock, idx) => (
                                            <div key={idx} className="bg-gray-800 p-3 rounded-lg border border-gray-700 flex justify-between items-center">
                                                <div className="flex items-center gap-3">
                                                    <div className={`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${idx===0 ? 'bg-yellow-500 text-black' : 'bg-gray-700 text-gray-300'}`}>
                                                        {idx + 1}
                                                    </div>
                                                    <div>
                                                        <p className="font-bold text-sm text-gray-100">{stock.symbol}</p>
                                                        <p className="text-xs text-gray-400">{stock.name}</p>
                                                    </div>
                                                </div>
                                                <div className="text-right">
                                                     <p className="text-sm font-bold text-white">{stock.market === 'US' ? '$' : '₩'}{stock.currentPrice.toLocaleString()}</p>
                                                     <p className="text-xs text-indigo-400 font-medium">AI {stock.score}점</p>
                                                </div>
                                            </div>
                                        ))}
                                        <div className="text-center mt-4">
                                            <p className="text-xs text-gray-500">...나머지 7개 종목은 앱에서 확인하세요!</p>
                                        </div>
                                    </div>
                                ) : (
                                    <div className="py-10 text-center text-gray-500">
                                        데이터를 불러오는 중...
                                    </div>
                                )}
                            </div>
                        </div>
                    </section>

                    {/* Features Section */}
                    <section className="w-full bg-gray-800/30 py-20 px-6">
                        <div className="max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8">
                            <div className="p-6 rounded-2xl bg-gray-800/50 border border-gray-700">
                                <div className="w-12 h-12 bg-blue-900/50 rounded-lg flex items-center justify-center text-blue-400 mb-4">
                                    <Icon name="chart" size={28} />
                                </div>
                                <h3 className="text-xl font-bold mb-2">기술적 분석 자동화</h3>
                                <p className="text-gray-400 text-sm leading-relaxed">
                                    RSI 과매도, 볼린저밴드 하단, 골든크로스 등 검증된 8가지 지표를 AI가 매일 분석합니다.
                                </p>
                            </div>
                            <div className="p-6 rounded-2xl bg-gray-800/50 border border-gray-700">
                                <div className="w-12 h-12 bg-green-900/50 rounded-lg flex items-center justify-center text-green-400 mb-4">
                                    <Icon name="check" size={28} />
                                </div>
                                <h3 className="text-xl font-bold mb-2">백테스팅 결과 공개</h3>
                                <p className="text-gray-400 text-sm leading-relaxed">
                                    과거 추천 종목들의 2주 뒤 수익률을 투명하게 공개합니다. 실력을 직접 확인하세요.
                                </p>
                            </div>
                            <div className="p-6 rounded-2xl bg-gray-800/50 border border-gray-700">
                                <div className="w-12 h-12 bg-purple-900/50 rounded-lg flex items-center justify-center text-purple-400 mb-4">
                                    <Icon name="bolt" size={28} />
                                </div>
                                <h3 className="text-xl font-bold mb-2">놓치지 않는 알림</h3>
                                <p className="text-gray-400 text-sm leading-relaxed">
                                    미국장은 아침 8시, 한국장은 저녁 6시에 분석 완료 알림을 보내드립니다.
                                </p>
                            </div>
                        </div>
                    </section>

                    {/* Footer */}
                    <footer className="w-full py-10 text-center text-gray-500 text-xs border-t border-gray-800">
                        <p className="mb-2">© 2024 DailyPick10. All rights reserved.</p>
                        <div className="flex justify-center gap-4">
                            <a href="#" className="hover:text-gray-300">이용약관</a>
                            <a href="#" className="hover:text-gray-300">개인정보처리방침</a>
                        </div>
                    </footer>
                </div>
            );
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>